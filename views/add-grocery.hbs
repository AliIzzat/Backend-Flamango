<h2 style="margin-bottom: 1rem;">ğŸ›’ Add Grocery Item</h2>

<form action="/dashboard/add-grocery" method="POST" enctype="multipart/form-data" style="max-width: 600px; margin: auto;">
  <!-- ğŸ›ï¸ Supermarket Selection -->
  <label for="supermarket">Supermarket</label>
  <select name="supermarketId" required>
    {{#each supermarkets}}
      <option value="{{this._id}}">{{this.name_en}} / {{this.name_ar}}</option>
    {{/each}}
  </select>

  <!-- ğŸ§¾ Names -->
  <label for="name_en">Name (English)</label>
  <input type="text" name="name_en" required />

  <label for="name_ar">Ø§Ù„Ø§Ø³Ù… (Arabic)</label>
  <input type="text" name="name_ar" required dir="rtl" />

  <!-- ğŸ“œ Descriptions -->
  <label for="description_en">Description (English)</label>
  <textarea name="description_en" rows="2"></textarea>

  <label for="description_ar">Ø§Ù„ÙˆØµÙ (Arabic)</label>
  <textarea name="description_ar" rows="2" dir="rtl"></textarea>

  <!-- ğŸ’° Price & Offer -->
  <label for="price">Price (QAR)</label>
  <input type="number" name="price" min="0" step="0.01" required />

  <label for="offer">On Offer?</label>
  <select name="offer" id="offer-select">
    <option value="false">No</option>
    <option value="true">Yes</option>
  </select>

  <div id="offer-price-wrapper" style="display: none;">
    <label for="offerPrice">Offer Price (QAR)</label>
    <input type="number" name="offerPrice" min="0" step="0.01" />
  </div>

  <!-- ğŸ“¦ Category & Unit -->
  <label for="category">Category</label>
  <select name="category" required>
    <option value="Fruits">Fruits</option>
    <option value="Vegetables">Vegetables</option>
    <option value="Dairy">Dairy</option>
    <option value="Meat">Meat</option>
    <option value="Bakery">Bakery</option>
    <option value="Snacks">Snacks</option>
    <option value="Beverages">Beverages</option>
    <option value="Pantry">Pantry</option>
    <option value="Frozen">Frozen</option>
    <option value="Household">Household</option>
  </select>

  <label for="unit">Unit</label>
  <select name="unit">
    <option value="piece">Piece</option>
    <option value="kg">Kilogram</option>
    <option value="gram">Gram</option>
    <option value="liter">Liter</option>
    <option value="pack">Pack</option>
    <option value="box">Box</option>
  </select>

  <!-- ğŸ“¸ Image Upload -->
  <label for="image">Image</label>
  <input type="file" name="image" accept="image/*" required />

  <!-- ğŸ“¦ Quantity & Status -->
  <label for="stockQuantity">Stock Quantity</label>
  <input type="number" name="stockQuantity" min="0" value="100" />

  <label for="available">Available?</label>
  <select name="available">
    <option value="true">Yes</option>
    <option value="false">No</option>
  </select>

  <button type="submit" style="margin-top: 1rem;">â• Add Grocery Item</button>
</form>

<script>
  // Show/hide offer price field
  document.addEventListener("DOMContentLoaded", () => {
    const offerSelect = document.getElementById("offer-select");
    const offerPriceWrapper = document.getElementById("offer-price-wrapper");

    offerSelect.addEventListener("change", () => {
      offerPriceWrapper.style.display = offerSelect.value === "true" ? "block" : "none";
    });
  });
</script>
